## ðŸ“˜ The Road To React  

### ðŸ±â€ðŸš€å‰è¨€
> è¿™ä¸€éƒ¨åˆ†åŒ…æ‹¬äº†ä¹¦ä¸­çš„é¢å¤–ä»‹ç»çš„è¯­æ³•å’ŒReactç»´æŠ¤ã€æ€§èƒ½ä¼˜åŒ–ã€cssä»¥åŠæµ‹è¯•å’Œéƒ¨ç½²ï¼Œå¯¹äºŽCSSéƒ¨åˆ†ï¼Œä¸ªäººè§‰å¾—äº†è§£å³å¯ï¼Œä¸»è¦ä¸“æ³¨äºŽæ€§èƒ½ä¼˜åŒ–è¿™ä¸€å—ã€‚  

### ðŸ¥‡React start insert  
1. ä»‹ç»äº†``async/await``è¯­æ³•ï¼Œawaitå…³é”®å­—åŽé¢çš„åŠ¨ä½œä¼šç­‰åˆ°promiseæ­£å¸¸è¿”å›žåŽæ‰ä¼šæ‰§è¡Œã€‚  

2. ç„¶åŽæ˜¯ä»‹ç»äº†Reactä¸­çš„è¡¨å•ï¼Œå°†è¾“å…¥æ¡†ç­‰å°è£…ä¸ºä¸€ä¸ªè¡¨å•ç»„ä»¶ï¼Œ``button``æŒ‰é’®çš„``type``ä¸º``submit``,å¹¶ä¸”éœ€è¦åœ¨å¤„ç†è¡¨å•äº‹ä»¶çš„å‡½æ•°ä¸­å¢žåŠ ``event.preventDefault()``ç”¨æ¥é˜²æ­¢æäº¤è¡¨å•åŽé¡µé¢åˆ·æ–°è¿™ä¸€é»˜è®¤è¡Œä¸ºã€‚  

3. Reactæ€§èƒ½ä¼˜åŒ–
   1. ä¸è¦åœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶è¿è¡Œ
   ```javascript
    const useSemiPersistentState = (key, initialState) => {
    const isMounted = React.useRef(false);
    const [value, setValue] = React.useState(
      localStorage.getItem(key) || initialState
    );
    React.useEffect(() => {
      if (!isMounted.current) {
        isMounted.current = true;
      } else {
        console.log('A');
        localStorage.setItem(key, value);
     }
    }, [value, key]);
      return [value, setValue];
    }

   ```
  > æˆ‘ä»¬æ­£åœ¨å°† ref åŠå…¶å¯å˜çš„ current å±žæ€§ç”¨äºŽçŠ¶æ€ç®¡ç†ï¼Œè¯¥æ“ä½œå¹¶ä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ã€‚ä¸€æ—¦ Hook åœ¨ç»„ä»¶ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶è¢«è°ƒç”¨ï¼Œé‚£ä¹ˆå°±ä¼šç”¨ä¸€ä¸ªåä¸º isMounted çš„ false å¸ƒå°”å˜é‡åˆå§‹åŒ– ref çš„ current å€¼ã€‚ç»“æžœæ˜¯ï¼Œå¹¶æ²¡æœ‰è°ƒç”¨ useEffet ä¸­çš„å‰¯ä½œç”¨å‡½æ•°ï¼Œè€Œå‰¯ä½œç”¨å‡½æ•°åªæœ‰å½“å¸ƒå°”å˜é‡ isMounted å˜ä¸º true åŽæ‰ä¼šè¢«è°ƒç”¨ã€‚æ¯å½“ Hook å†æ¬¡è¿è¡Œï¼ˆæˆ–é‡æ–°æ¸²æŸ“ç»„ä»¶ï¼‰æ—¶ï¼Œéƒ½ä¼šåœ¨å‰¯ä½œç”¨ä¸­åˆ¤æ–­å¸ƒå°”å€¼å˜é‡ï¼Œåªæœ‰å½“å˜é‡ä¸º true æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°ã€‚åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ï¼ŒisMounted å¸ƒå°”å€¼å°†ä¸€ç›´ä¸º trueï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†é¿å…ç¬¬ä¸€æ¬¡ä½¿ç”¨æˆ‘ä»¬çš„è‡ªå®šä¹‰ Hook æ—¶è°ƒç”¨å‰¯ä½œç”¨å‡½æ•°ã€‚

  > ä»¥ä¸Šåªæ˜¯å…³äºŽé˜²æ­¢ç»„ä»¶ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶è°ƒç”¨ä¸€ä¸ªç®€å•çš„å‡½æ•°çš„é—®é¢˜ï¼Œä½†æ˜¯æƒ³è±¡ä¸€ä¸‹åœ¨å‰¯ä½œç”¨å‡½æ•°ä¸­æœ‰ä¸€ä¸ªå¼€é”€å¾ˆå¤§çš„è®¡ç®—ï¼Œæˆ–è€…è‡ªå®šä¹‰ Hook åœ¨åº”ç”¨ä¸­è¢«é¢‘ç¹çš„ä½¿ç”¨ï¼Œé‚£ä¹ˆä½¿ç”¨è¿™ç§æ–¹æ³•å°±å¯ä»¥æ›´å®žç”¨åœ°é¿å…ä¸å¿…è¦çš„å‡½æ•°è°ƒç”¨ã€‚  

  2. ä¸è¦è¿›è¡Œä¸å¿…è¦çš„æ¸²æŸ“   
  > ä½¿ç”¨memoå’ŒuseCallbackæ¥å‡å°‘æ¸²æŸ“æ¬¡æ•°
  > åœ¨Reactä¸­çˆ¶ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ä¼šå¯¼è‡´å­ç»„ä»¶ä¹Ÿè¿›è¡Œé‡æ–°æ¸²æŸ“ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨memoæ¥å¯¹propsè¿›è¡Œç›¸ç­‰æ€§æ£€æŸ¥ï¼Œä¸€æ—¦propsä¸­æœ‰å›žè°ƒå‡½æ•°ï¼Œå­ç»„ä»¶ä»ç„¶ä¼šé‡æ–°æ¸²æŸ“ï¼Œè¿™æ—¶å€™å°±è¦ä½¿ç”¨useCallbackæ¥é˜»æ­¢è¿™ä¸€è¡Œä¸º ï¼ˆä»…åœ¨ç»„ä»¶é‡æ–°æ¸²æŸ“å¹¶ä¸”ä¾èµ–é¡¹ä¸­æœ‰æ”¹å˜æ—¶æ‰åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼‰  

  3. ä¸è¦åå¤è¿è¡Œå¤§å¼€é”€çš„è®¡ç®—  
  > ä½¿ç”¨useMemo,ä»…å½“ä¾èµ–é¡¹çš„æ•°ç»„å‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šå†æ¬¡è¿è¡Œ
  ```javascript
      const App = () => {
      ...
      const sumComments = React.useMemo(() => getSumComments(stories), [
      stories,
      ]);
      return ( ... );
      };
  ```


